syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

package api.v1;

option go_package = "kiseki/api/v1;api";

message CreateJobApplicationRequest {
  string company = 1;
  string title = 2;
  google.protobuf.StringValue description = 3;
  google.protobuf.StringValue notes = 4;
  google.protobuf.StringValue cv = 5;
  google.protobuf.StringValue cover_letter = 6;
  google.protobuf.Timestamp applied_on = 7;
  JobApplicationStatus status = 8;
}

message CreateJobApplicationResponse {
  JobApplication job_application = 1;
}

message ListJobApplicationsRequest {}

message ListJobApplicationsResponse {
  repeated JobApplication job_applications = 1;
}

message UpdateJobApplicationRequest {
  string id = 1;
  string company = 2;
  string title = 3;
  google.protobuf.StringValue description = 4;
  google.protobuf.StringValue notes = 5;
  google.protobuf.StringValue cv = 6;
  google.protobuf.StringValue cover_letter = 7;
  JobApplicationStatus status = 8;
  google.protobuf.Timestamp applied_on = 9;
}

message UpdateJobApplicationResponse {
  JobApplication job_application = 1;
}

message DeleteJobApplicationRequest {
  string id = 1;
}

message DeleteJobApplicationResponse {
}

enum JobApplicationStatus {
  JOB_APPLICATION_STATUS_UNSPECIFIED = 0;
  JOB_APPLICATION_STATUS_APPLIED = 1;
  JOB_APPLICATION_STATUS_SCREENING = 2;
  JOB_APPLICATION_STATUS_INTERVIEW = 3;
  JOB_APPLICATION_STATUS_OFFER = 4;
  JOB_APPLICATION_STATUS_REJECTED = 5;
  JOB_APPLICATION_STATUS_WITHDRAWN = 6;
  JOB_APPLICATION_STATUS_ACCEPTED = 7;
}

message JobApplication {
  string id = 1;
  string company = 2;
  string title = 3;
  JobApplicationStatus status = 4;
  google.protobuf.StringValue description = 5;
  google.protobuf.StringValue notes = 6;
  google.protobuf.StringValue cv = 7;
  google.protobuf.StringValue cover_letter = 8;
  google.protobuf.Timestamp applied_on = 9;
  google.protobuf.Timestamp created_at = 10;
  google.protobuf.Timestamp updated_at = 11;
}

service Service {
  rpc CreateJobApplication(CreateJobApplicationRequest) returns (CreateJobApplicationResponse);
  rpc ListJobApplications(ListJobApplicationsRequest) returns (ListJobApplicationsResponse);
  rpc UpdateJobApplication(UpdateJobApplicationRequest) returns (UpdateJobApplicationResponse);
  rpc DeleteJobApplication(DeleteJobApplicationRequest) returns (DeleteJobApplicationResponse);
}

